(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{a3w7:function(h,u,t){"use strict";t.r(u);var $=t("+L6B"),D=t("2/Rp"),Z=t("14J3"),y=t("BMrR"),G=t("jCWc"),C=t("kPKH"),k=t("Q9mQ"),A=t("diRs"),q=t("5NDa"),c=t("5rEg"),ee=t("MXD1"),I=t("CFYs"),B=t("VTBJ"),te=t("miYZ"),T=t("tsqr"),g=t("ODXe"),ae=t("y8nQ"),d=t("Vl3Y"),m=t("q1tI"),e=t.n(m),r=t("9kvl"),L=t("uYtH"),W=t("sYde"),_=t.n(W),p=d.a.Item,K={ok:e.a.createElement("div",{className:_.a.success},e.a.createElement(r.a,{id:"userandregister.strength.strong"})),pass:e.a.createElement("div",{className:_.a.warning},e.a.createElement(r.a,{id:"userandregister.strength.medium"})),poor:e.a.createElement("div",{className:_.a.error},e.a.createElement(r.a,{id:"userandregister.strength.short"}))},F={ok:"success",pass:"normal",poor:"exception"},j=function(l){var f=l.submitting,b=l.dispatch,E=l.userAndregister,w=Object(m.useState)(!1),v=Object(g.a)(w,2),M=v[0],O=v[1],N=Object(m.useState)(!1),R=Object(g.a)(N,2),S=R[0],V=R[1],x=!1,J,Y=d.a.useForm(),Q=Object(g.a)(Y,1),n=Q[0];Object(m.useEffect)(function(){if(console.log(E.status),!E)return;var o=n.getFieldValue("email");E.status==="ok"&&(T.b.success("\u6CE8\u518C\u6210\u529F\uFF01"),r.e.push({pathname:"/user/register-result",state:{account:o}}))},[E]),Object(m.useEffect)(function(){return function(){clearInterval(J)}},[]);var U=function(){var a=n.getFieldValue("password");return a&&a.length>9?"ok":a&&a.length>5?"pass":"poor"},z=function(a){console.log(a),b({type:"userAndregister/submit",payload:Object(B.a)({},a)})},re=function(a,s){var i=Promise;return s&&s!==n.getFieldValue("password")?i.reject(Object(r.d)({id:"userandregister.password.twice"})):i.resolve()},X=function(a,s){var i=Promise;return s?(M||O(!!s),V(!S),s.length<6?i.reject(""):(s&&x&&n.validateFields(["confirm"]),i.resolve())):(O(!!s),i.reject(Object(r.d)({id:"userandregister.password.required"})))},H=function(){var a=n.getFieldValue("password"),s=U();return a&&a.length?e.a.createElement("div",{className:_.a["progress-".concat(s)]},e.a.createElement(I.a,{status:F[s],className:_.a.progress,strokeWidth:6,percent:a.length*10>100?100:a.length*10,showInfo:!1})):null};return e.a.createElement("div",{className:_.a.main},e.a.createElement("h3",null,e.a.createElement(r.a,{id:"userandregister.register.register"})),e.a.createElement(d.a,{form:n,name:"UserRegister",onFinish:z},e.a.createElement(p,{name:"email",rules:[{required:!0,message:Object(r.d)({id:"userandregister.email.required"})},{type:"email",message:Object(r.d)({id:"userandregister.email.wrong-format"})}]},e.a.createElement(c.a,{size:"large",placeholder:Object(r.d)({id:"userandregister.email.placeholder"})})),e.a.createElement(A.a,{getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},content:M&&e.a.createElement("div",{style:{padding:"4px 0"}},K[U()],H(),e.a.createElement("div",{style:{marginTop:10}},e.a.createElement(r.a,{id:"userandregister.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:M},e.a.createElement(d.a.Item,{name:"user_name",rules:[{required:!0,message:"Please input your username!"}]},e.a.createElement(c.a,{placeholder:"Username"})),e.a.createElement(p,{name:"password",className:n.getFieldValue("password")&&n.getFieldValue("password").length>0&&_.a.password,rules:[{validator:X}]},e.a.createElement(c.a,{size:"large",type:"password",placeholder:Object(r.d)({id:"userandregister.password.placeholder"})}))),e.a.createElement(y.a,{gutter:8},e.a.createElement(C.a,{span:16})),e.a.createElement(p,null,e.a.createElement(D.a,{size:"large",loading:f,className:_.a.submit,type:"primary",htmlType:"submit"},e.a.createElement(r.a,{id:"userandregister.register.register"})),e.a.createElement(L.a,{className:_.a.login,to:"/user/login"},e.a.createElement(r.a,{id:"userandregister.register.sign-in"})))))};u.default=Object(r.c)(function(P){var l=P.userAndregister,f=P.loading;return{userAndregister:l,submitting:f.effects["userAndregister/submit"]}})(j)},sYde:function(h,u,t){h.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}}}]);
